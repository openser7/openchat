!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?exports.io=b():a.io=b()}(this,function(){return function(a){function b(d){if(c[d]){return c[d].exports}var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(m,j,g){function b(x,v){"object"===("undefined"==typeof x?"undefined":f(x))&&(v=x,x=void 0),v=v||{};var c,a=h(x),y=a.source,w=a.id,o=a.path,p=d[w]&&o in d[w].nsps,i=v.forceNew||v["force new connection"]||!1===v.multiplex||p;return i?(k("ignoring socket cache for %s",y),c=l(y,v)):(d[w]||(k("new io instance for %s",y),d[w]=l(y,v)),c=d[w]),a.query&&!v.query&&(v.query=a.query),c.socket(a.path,v)}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=g(1),q=g(7),l=g(13),k=g(3)("socket.io-client");m.exports=j=b;var d=j.managers={};j.protocol=q.protocol,j.connect=b,j.Manager=g(13),j.Socket=g(37)},function(a,b,c){(function(g){function f(i,l){var k=i;l=l||g.location,null==i&&(i=l.protocol+"//"+l.host),"string"==typeof i&&("/"===i.charAt(0)&&(i="/"===i.charAt(1)?l.protocol+i:l.host+i),/^(https?|wss?):\/\//.test(i)||(d("protocol-less url %s",i),i="undefined"!=typeof l?l.protocol+"//"+i:"https://"+i),d("parse %s",i),k=h(i)),k.port||(/^(http|ws)$/.test(k.protocol)?k.port="80":/^(http|ws)s$/.test(k.protocol)&&(k.port="443")),k.path=k.path||"/";var j=k.host.indexOf(":")!==-1,e=j?"["+k.host+"]":k.host;return k.id=k.protocol+"://"+e+":"+k.port,k.href=k.protocol+"://"+e+(l&&l.port===k.port?"":":"+k.port),k}var h=c(2),d=c(3)("socket.io-client:url");a.exports=f}).call(b,function(){return this}())},function(a,c){var d=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,b=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];a.exports=function(h){var k=h,l=h.indexOf("["),g=h.indexOf("]");l!=-1&&g!=-1&&(h=h.substring(0,l)+h.substring(l,g).replace(/:/g,";")+h.substring(g,h.length));for(var j=d.exec(h||""),f={},m=14;m--;){f[b[m]]=j[m]||""}return l!=-1&&g!=-1&&(f.source=k,f.host=f.host.substring(1,f.host.length-1).replace(/;/g,":"),f.authority=f.authority.replace("[","").replace("]","").replace(/;/g,":"),f.ipv6uri=!0),f}},function(a,b,c){(function(g){function j(){return !("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function e(m){var s=this.useColors;if(m[0]=(s?"%c":"")+this.namespace+(s?" %c":" ")+m[0]+(s?"%c ":" ")+"+"+b.humanize(this.diff),s){var p="color: "+this.color;m.splice(1,0,p,"color: inherit");var q=0,l=0;m[0].replace(/%[a-zA-Z%]/g,function(i){"%%"!==i&&(q++,"%c"===i&&(l=q))}),m.splice(l,0,p)}}function f(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function d(i){try{null==i?b.storage.removeItem("debug"):b.storage.debug=i}catch(l){}}function k(){var i;try{i=b.storage.debug}catch(l){}return !i&&"undefined"!=typeof g&&"env" in g&&(i=g.env.DEBUG),i}function h(){try{return window.localStorage}catch(i){}}b=a.exports=c(5),b.log=f,b.formatArgs=e,b.save=d,b.load=k,b.useColors=j,b.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:h(),b.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],b.formatters.j=function(i){try{return JSON.stringify(i)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}},b.enable(k())}).call(b,c(4))},function(G,A){function k(){throw new Error("setTimeout has not been defined")}function b(){throw new Error("clearTimeout has not been defined")}function j(a){if(F===setTimeout){return setTimeout(a,0)}if((F===k||!F)&&setTimeout){return F=setTimeout,setTimeout(a,0)}try{return F(a,0)}catch(c){try{return F.call(null,a,0)}catch(c){return F.call(this,a,0)}}}function w(a){if(x===clearTimeout){return clearTimeout(a)}if((x===b||!x)&&clearTimeout){return x=clearTimeout,clearTimeout(a)}try{return x(a)}catch(c){try{return x.call(null,a)}catch(c){return x.call(this,a)}}}function H(){D&&v&&(D=!1,v.length?B=v.concat(B):q=-1,B.length&&E())}function E(){if(!D){var a=j(H);D=!0;for(var c=B.length;c;){for(v=B,B=[];++q<c;){v&&v[q].run()}q=-1,c=B.length}v=null,D=!1,w(a)}}function C(a,c){this.fun=a,this.array=c}function g(){}var F,x,z=G.exports={};!function(){try{F="function"==typeof setTimeout?setTimeout:k}catch(a){F=k}try{x="function"==typeof clearTimeout?clearTimeout:b}catch(a){x=b}}();var v,B=[],D=!1,q=-1;z.nextTick=function(a){var c=new Array(arguments.length-1);if(arguments.length>1){for(var d=1;d<arguments.length;d++){c[d-1]=arguments[d]}}B.push(new C(a,c)),1!==B.length||D||j(E)},C.prototype.run=function(){this.fun.apply(null,this.array)},z.title="browser",z.browser=!0,z.env={},z.argv=[],z.version="",z.versions={},z.on=g,z.addListener=g,z.once=g,z.off=g,z.removeListener=g,z.removeAllListeners=g,z.emit=g,z.prependListener=g,z.prependOnceListener=g,z.listeners=function(a){return[]},z.binding=function(a){throw new Error("process.binding is not supported")},z.cwd=function(){return"/"},z.chdir=function(a){throw new Error("process.chdir is not supported")},z.umask=function(){return 0}},function(m,j,g){function b(a){var e,c=0;for(e in a){c=(c<<5)-c+a.charCodeAt(e),c|=0}return j.colors[Math.abs(c)%j.colors.length]}function f(a){function c(){if(c.enabled){var p=c,v=+new Date,w=v-(d||v);p.diff=w,p.prev=d,p.curr=v,d=v;for(var n=new Array(arguments.length),u=0;u<n.length;u++){n[u]=arguments[u]}n[0]=j.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var e=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,function(z,t){if("%%"===z){return z}e++;var y=j.formatters[t];if("function"==typeof y){var i=n[e];z=y.call(p,i),n.splice(e,1),e--}return z}),j.formatArgs.call(p,n);var x=c.log||j.log||console.log.bind(console);x.apply(p,n)}}return c.namespace=a,c.enabled=j.enabled(a),c.useColors=j.useColors(),c.color=b(a),"function"==typeof j.init&&j.init(c),c}function h(a){j.save(a),j.names=[],j.skips=[];for(var i=("string"==typeof a?a:"").split(/[\s,]+/),c=i.length,e=0;e<c;e++){i[e]&&(a=i[e].replace(/\*/g,".*?"),"-"===a[0]?j.skips.push(new RegExp("^"+a.substr(1)+"$")):j.names.push(new RegExp("^"+a+"$")))}}function q(){j.enable("")}function l(a){var e,c;for(e=0,c=j.skips.length;e<c;e++){if(j.skips[e].test(a)){return !1}}for(e=0,c=j.names.length;e<c;e++){if(j.names[e].test(a)){return !0}}return !1}function k(a){return a instanceof Error?a.stack||a.message:a}j=m.exports=f.debug=f["default"]=f,j.coerce=k,j.disable=q,j.enable=h,j.enabled=l,j.humanize=g(6),j.names=[],j.skips=[],j.formatters={};var d},function(q,j){function g(a){if(a=String(a),!(a.length>100)){var i=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(a);if(i){var o=parseFloat(i[1]),c=(i[2]||"ms").toLowerCase();switch(c){case"years":case"year":case"yrs":case"yr":case"y":return o*m;case"days":case"day":case"d":return o*d;case"hours":case"hour":case"hrs":case"hr":case"h":return o*k;case"minutes":case"minute":case"mins":case"min":case"m":return o*l;case"seconds":case"second":case"secs":case"sec":case"s":return o*v;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}function b(a){return a>=d?Math.round(a/d)+"d":a>=k?Math.round(a/k)+"h":a>=l?Math.round(a/l)+"m":a>=v?Math.round(a/v)+"s":a+"ms"}function f(a){return h(a,d,"day")||h(a,k,"hour")||h(a,l,"minute")||h(a,v,"second")||a+" ms"}function h(a,c,i){if(!(a<c)){return a<1.5*c?Math.floor(a/c)+" "+i:Math.ceil(a/c)+" "+i+"s"}}var v=1000,l=60*v,k=60*l,d=24*k,m=365.25*d;q.exports=function(c,n){n=n||{};var a=typeof c;if("string"===a&&c.length>0){return g(c)}if("number"===a&&isNaN(c)===!1){return n["long"]?f(c):b(c)}throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))}},function(E,x,k){function b(){}function j(a){var c=""+a.type;return x.BINARY_EVENT!==a.type&&x.BINARY_ACK!==a.type||(c+=a.attachments+"-"),a.nsp&&"/"!==a.nsp&&(c+=a.nsp+","),null!=a.id&&(c+=a.id),null!=a.data&&(c+=JSON.stringify(a.data)),v("encoded %j as %s",a,c),c}function q(a,c){function d(f){var l=z.deconstructPacket(f),h=j(l.packet),e=l.buffers;e.unshift(h),c(e)}z.removeBlobs(a,d)}function F(){this.reconstructor=null}function C(c){var h=0,e={type:Number(c.charAt(0))};if(null==x.types[e.type]){return D()}if(x.BINARY_EVENT===e.type||x.BINARY_ACK===e.type){for(var f="";"-"!==c.charAt(++h)&&(f+=c.charAt(h),h!=c.length);){}if(f!=Number(f)||"-"!==c.charAt(h)){throw new Error("Illegal attachments")}e.attachments=Number(f)}if("/"===c.charAt(h+1)){for(e.nsp="";++h;){var a=c.charAt(h);if(","===a){break}if(e.nsp+=a,h===c.length){break}}}else{e.nsp="/"}var d=c.charAt(h+1);if(""!==d&&Number(d)==d){for(e.id="";++h;){var a=c.charAt(h);if(null==a||Number(a)!=a){--h;break}if(e.id+=c.charAt(h),h===c.length){break}}e.id=Number(e.id)}return c.charAt(++h)&&(e=A(e,c.substr(h))),v("decoded %s as %j",c,e),e}function A(a,c){try{a.data=JSON.parse(c)}catch(d){return D()}return a}function g(a){this.reconPack=a,this.buffers=[]}function D(){return{type:x.ERROR,data:"parser error"}}var v=k(3)("socket.io-parser"),w=k(8),m=k(9),z=k(11),B=k(12);x.protocol=4,x.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],x.CONNECT=0,x.DISCONNECT=1,x.EVENT=2,x.ACK=3,x.ERROR=4,x.BINARY_EVENT=5,x.BINARY_ACK=6,x.Encoder=b,x.Decoder=F,b.prototype.encode=function(a,d){if(a.type!==x.EVENT&&a.type!==x.ACK||!m(a.data)||(a.type=a.type===x.EVENT?x.BINARY_EVENT:x.BINARY_ACK),v("encoding packet %j",a),x.BINARY_EVENT===a.type||x.BINARY_ACK===a.type){q(a,d)}else{var c=j(a);d([c])}},w(F.prototype),F.prototype.add=function(a){var c;if("string"==typeof a){c=C(a),x.BINARY_EVENT===c.type||x.BINARY_ACK===c.type?(this.reconstructor=new g(c),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",c)):this.emit("decoded",c)}else{if(!B(a)&&!a.base64){throw new Error("Unknown type: "+a)}if(!this.reconstructor){throw new Error("got binary data when not reconstructing a packet")}c=this.reconstructor.takeBinaryData(a),c&&(this.reconstructor=null,this.emit("decoded",c))}},F.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},g.prototype.takeBinaryData=function(a){if(this.buffers.push(a),this.buffers.length===this.reconPack.attachments){var c=z.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),c}return null},g.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(a,c,f){function b(e){if(e){return d(e)}}function d(g){for(var h in b.prototype){g[h]=b.prototype[h]}return g}a.exports=b,b.prototype.on=b.prototype.addEventListener=function(g,h){return this._callbacks=this._callbacks||{},(this._callbacks["$"+g]=this._callbacks["$"+g]||[]).push(h),this},b.prototype.once=function(g,h){function i(){this.off(g,i),h.apply(this,arguments)}return i.fn=h,this.on(g,i),this},b.prototype.off=b.prototype.removeListener=b.prototype.removeAllListeners=b.prototype.removeEventListener=function(g,i){if(this._callbacks=this._callbacks||{},0==arguments.length){return this._callbacks={},this}var k=this._callbacks["$"+g];if(!k){return this}if(1==arguments.length){return delete this._callbacks["$"+g],this}for(var h,j=0;j<k.length;j++){if(h=k[j],h===i||h.fn===i){k.splice(j,1);break}}return this},b.prototype.emit=function(g){this._callbacks=this._callbacks||{};var i=[].slice.call(arguments,1),k=this._callbacks["$"+g];if(k){k=k.slice(0);for(var h=0,j=k.length;h<j;++h){k[h].apply(this,i)}}return this},b.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},b.prototype.hasListeners=function(e){return !!this.listeners(e).length}},function(a,b,c){(function(j){function h(l){if(!l||"object"!=typeof l){return !1}if(k(l)){for(var o=0,e=l.length;o<e;o++){if(h(l[o])){return !0}}return !1}if("function"==typeof j.Buffer&&j.Buffer.isBuffer&&j.Buffer.isBuffer(l)||"function"==typeof j.ArrayBuffer&&l instanceof ArrayBuffer||g&&l instanceof Blob||d&&l instanceof File){return !0}if(l.toJSON&&"function"==typeof l.toJSON&&1===arguments.length){return h(l.toJSON(),!0)}for(var m in l){if(Object.prototype.hasOwnProperty.call(l,m)&&h(l[m])){return !0}}return !1}var k=c(10),f=Object.prototype.toString,g="function"==typeof j.Blob||"[object BlobConstructor]"===f.call(j.Blob),d="function"==typeof j.File||"[object FileConstructor]"===f.call(j.File);a.exports=h}).call(b,function(){return this}())},function(a,b){var c={}.toString;a.exports=Array.isArray||function(d){return"[object Array]"==c.call(d)}},function(a,b,c){(function(f){function h(m,p){if(!m){return m}if(g(m)){var s={_placeholder:!0,num:p.length};return p.push(m),s}if(e(m)){for(var q=new Array(m.length),i=0;i<m.length;i++){q[i]=h(m[i],p)}return q}if("object"==typeof m&&!(m instanceof Date)){var q={};for(var r in m){q[r]=h(m[r],p)}return q}return m}function k(i,o){if(!i){return i}if(i&&i._placeholder){return o[i.num]}if(e(i)){for(var p=0;p<i.length;p++){i[p]=k(i[p],o)}}else{if("object"==typeof i){for(var m in i){i[m]=k(i[m],o)}}}return i}var e=c(10),g=c(12),d=Object.prototype.toString,l="function"==typeof f.Blob||"[object BlobConstructor]"===d.call(f.Blob),j="function"==typeof f.File||"[object FileConstructor]"===d.call(f.File);b.deconstructPacket=function(i){var m=[],q=i.data,p=i;return p.data=h(q,m),p.attachments=m.length,{packet:p,buffers:m}},b.reconstructPacket=function(i,m){return i.data=k(i.data,m),i.attachments=void 0,i},b.removeBlobs=function(i,p){function s(v,o,r){if(!v){return v}if(l&&v instanceof Blob||j&&v instanceof File){m++;var w=new FileReader;w.onload=function(){r?r[o]=this.result:q=this.result,--m||p(q)},w.readAsArrayBuffer(v)}else{if(e(v)){for(var x=0;x<v.length;x++){s(v[x],x,v)}}else{if("object"==typeof v&&!g(v)){for(var n in v){s(v[n],n,v)}}}}}var m=0,q=i;s(q),m||p(q)}}).call(b,function(){return this}())},function(a,b){(function(c){function d(e){return c.Buffer&&c.Buffer.isBuffer(e)||c.ArrayBuffer&&e instanceof ArrayBuffer}a.exports=d}).call(b,function(){return this}())},function(C,x,k){function b(a,c){if(!(this instanceof b)){return new b(a,c)}a&&"object"===("undefined"==typeof a?"undefined":j(a))&&(c=a,a=void 0),c=c||{},c.path=c.path||"/socket.io",this.nsps={},this.subs=[],this.opts=c,this.reconnection(c.reconnection!==!1),this.reconnectionAttempts(c.reconnectionAttempts||1/0),this.reconnectionDelay(c.reconnectionDelay||1000),this.reconnectionDelayMax(c.reconnectionDelayMax||5000),this.randomizationFactor(c.randomizationFactor||0.5),this.backoff=new m({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==c.timeout?20000:c.timeout),this.readyState="closed",this.uri=a,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var d=c.parser||z;this.encoder=new d.Encoder,this.decoder=new d.Decoder,this.autoConnect=c.autoConnect!==!1,this.autoConnect&&this.open()}var j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},q=k(14),D=k(37),A=k(8),z=k(7),g=k(39),B=k(40),v=k(3)("socket.io-client:manager"),w=k(36),m=k(41),y=Object.prototype.hasOwnProperty;C.exports=b,b.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var a in this.nsps){y.call(this.nsps,a)&&this.nsps[a].emit.apply(this.nsps[a],arguments)}},b.prototype.updateSocketIds=function(){for(var a in this.nsps){y.call(this.nsps,a)&&(this.nsps[a].id=this.generateId(a))}},b.prototype.generateId=function(a){return("/"===a?"":a+"#")+this.engine.id},A(b.prototype),b.prototype.reconnection=function(a){return arguments.length?(this._reconnection=!!a,this):this._reconnection},b.prototype.reconnectionAttempts=function(a){return arguments.length?(this._reconnectionAttempts=a,this):this._reconnectionAttempts},b.prototype.reconnectionDelay=function(a){return arguments.length?(this._reconnectionDelay=a,this.backoff&&this.backoff.setMin(a),this):this._reconnectionDelay},b.prototype.randomizationFactor=function(a){return arguments.length?(this._randomizationFactor=a,this.backoff&&this.backoff.setJitter(a),this):this._randomizationFactor},b.prototype.reconnectionDelayMax=function(a){return arguments.length?(this._reconnectionDelayMax=a,this.backoff&&this.backoff.setMax(a),this):this._reconnectionDelayMax},b.prototype.timeout=function(a){return arguments.length?(this._timeout=a,this):this._timeout},b.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},b.prototype.open=b.prototype.connect=function(f,l){if(v("readyState %s",this.readyState),~this.readyState.indexOf("open")){return this}v("opening %s",this.uri),this.engine=q(this.uri,this.opts);var E=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var p=g(E,"open",function(){i.onopen(),f&&f()}),h=g(E,"error",function(a){if(v("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",a),f){var c=new Error("Connection error");c.data=a,f(c)}else{i.maybeReconnectOnOpen()}});if(!1!==this._timeout){var d=this._timeout;v("connect attempt will timeout after %d",d);var u=setTimeout(function(){v("connect attempt timed out after %d",d),p.destroy(),E.close(),E.emit("error","timeout"),i.emitAll("connect_timeout",d)},d);this.subs.push({destroy:function(){clearTimeout(u)}})}return this.subs.push(p),this.subs.push(h),this},b.prototype.onopen=function(){v("open"),this.cleanup(),this.readyState="open",this.emit("open");var a=this.engine;this.subs.push(g(a,"data",B(this,"ondata"))),this.subs.push(g(a,"ping",B(this,"onping"))),this.subs.push(g(a,"pong",B(this,"onpong"))),this.subs.push(g(a,"error",B(this,"onerror"))),this.subs.push(g(a,"close",B(this,"onclose"))),this.subs.push(g(this.decoder,"decoded",B(this,"ondecoded")))},b.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},b.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},b.prototype.ondata=function(a){this.decoder.add(a)},b.prototype.ondecoded=function(a){this.emit("packet",a)},b.prototype.onerror=function(a){v("error",a),this.emitAll("error",a)},b.prototype.socket=function(a,d){function h(){~w(f.connecting,c)||f.connecting.push(c)}var c=this.nsps[a];if(!c){c=new D(this,a,d),this.nsps[a]=c;var f=this;c.on("connecting",h),c.on("connect",function(){c.id=f.generateId(a)}),this.autoConnect&&h()}return c},b.prototype.destroy=function(a){var c=w(this.connecting,a);~c&&this.connecting.splice(c,1),this.connecting.length||this.close()},b.prototype.packet=function(a){v("writing packet %j",a);var c=this;a.query&&0===a.type&&(a.nsp+="?"+a.query),c.encoding?c.packetBuffer.push(a):(c.encoding=!0,this.encoder.encode(a,function(e){for(var d=0;d<e.length;d++){c.engine.write(e[d],a.options)}c.encoding=!1,c.processPacketQueue()}))},b.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var a=this.packetBuffer.shift();this.packet(a)}},b.prototype.cleanup=function(){v("cleanup");for(var a=this.subs.length,c=0;c<a;c++){var d=this.subs.shift();d.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},b.prototype.close=b.prototype.disconnect=function(){v("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},b.prototype.onclose=function(a){v("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",a),this._reconnection&&!this.skipReconnect&&this.reconnect()},b.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect){return this}var a=this;if(this.backoff.attempts>=this._reconnectionAttempts){v("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1}else{var c=this.backoff.duration();v("will wait %dms before reconnect attempt",c),this.reconnecting=!0;var d=setTimeout(function(){a.skipReconnect||(v("attempting reconnect"),a.emitAll("reconnect_attempt",a.backoff.attempts),a.emitAll("reconnecting",a.backoff.attempts),a.skipReconnect||a.open(function(f){f?(v("reconnect attempt error"),a.reconnecting=!1,a.reconnect(),a.emitAll("reconnect_error",f.data)):(v("reconnect success"),a.onreconnect())}))},c);this.subs.push({destroy:function(){clearTimeout(d)}})}},b.prototype.onreconnect=function(){var a=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",a)}},function(a,b,c){a.exports=c(15),a.exports.parser=c(22)},function(a,b,c){(function(l){function d(e,i){if(!(this instanceof d)){return new d(e,i)}i=i||{},e&&"object"==typeof e&&(i=e,e=null),e?(e=q(e),i.hostname=e.host,i.secure="https"===e.protocol||"wss"===e.protocol,i.port=e.port,e.query&&(i.query=e.query)):i.host&&(i.hostname=q(i.host).host),this.secure=null!=i.secure?i.secure:l.location&&"https:"===location.protocol,i.hostname&&!i.port&&(i.port=this.secure?"443":"80"),this.agent=i.agent||!1,this.hostname=i.hostname||(l.location?location.hostname:"localhost"),this.port=i.port||(l.location&&location.port?location.port:this.secure?443:80),this.query=i.query||{},"string"==typeof this.query&&(this.query=k.decode(this.query)),this.upgrade=!1!==i.upgrade,this.path=(i.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!i.forceJSONP,this.jsonp=!1!==i.jsonp,this.forceBase64=!!i.forceBase64,this.enablesXDR=!!i.enablesXDR,this.timestampParam=i.timestampParam||"t",this.timestampRequests=i.timestampRequests,this.transports=i.transports||["polling","websocket"],this.transportOptions=i.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=i.policyPort||843,this.rememberUpgrade=i.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=i.onlyBinaryUpgrades,this.perMessageDeflate=!1!==i.perMessageDeflate&&(i.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=i.pfx||null,this.key=i.key||null,this.passphrase=i.passphrase||null,this.cert=i.cert||null,this.ca=i.ca||null,this.ciphers=i.ciphers||null,this.rejectUnauthorized=void 0===i.rejectUnauthorized||i.rejectUnauthorized,this.forceNode=!!i.forceNode;var h="object"==typeof l&&l;h.global===h&&(i.extraHeaders&&Object.keys(i.extraHeaders).length>0&&(this.extraHeaders=i.extraHeaders),i.localAddress&&(this.localAddress=i.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function g(h){var i={};for(var o in h){h.hasOwnProperty(o)&&(i[o]=h[o])}return i}var j=c(16),t=c(8),n=c(3)("engine.io-client:socket"),m=c(36),f=c(22),q=c(2),k=c(30);a.exports=d,d.priorWebsocketSuccess=!1,t(d.prototype),d.protocol=f.protocol,d.Socket=d,d.Transport=c(21),d.transports=c(16),d.parser=c(22),d.prototype.createTransport=function(h){n('creating transport "%s"',h);var o=g(this.query);o.EIO=f.protocol,o.transport=h;var p=this.transportOptions[h]||{};this.id&&(o.sid=this.id);var i=new j[h]({query:o,socket:this,agent:p.agent||this.agent,hostname:p.hostname||this.hostname,port:p.port||this.port,secure:p.secure||this.secure,path:p.path||this.path,forceJSONP:p.forceJSONP||this.forceJSONP,jsonp:p.jsonp||this.jsonp,forceBase64:p.forceBase64||this.forceBase64,enablesXDR:p.enablesXDR||this.enablesXDR,timestampRequests:p.timestampRequests||this.timestampRequests,timestampParam:p.timestampParam||this.timestampParam,policyPort:p.policyPort||this.policyPort,pfx:p.pfx||this.pfx,key:p.key||this.key,passphrase:p.passphrase||this.passphrase,cert:p.cert||this.cert,ca:p.ca||this.ca,ciphers:p.ciphers||this.ciphers,rejectUnauthorized:p.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:p.perMessageDeflate||this.perMessageDeflate,extraHeaders:p.extraHeaders||this.extraHeaders,forceNode:p.forceNode||this.forceNode,localAddress:p.localAddress||this.localAddress,requestTimeout:p.requestTimeout||this.requestTimeout,protocols:p.protocols||void 0});return i},d.prototype.open=function(){var h;if(this.rememberUpgrade&&d.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1){h="websocket"}else{if(0===this.transports.length){var i=this;return void setTimeout(function(){i.emit("error","No transports available")},0)}h=this.transports[0]}this.readyState="opening";try{h=this.createTransport(h)}catch(o){return this.transports.shift(),void this.open()}h.open(),this.setTransport(h)},d.prototype.setTransport=function(h){n("setting transport %s",h.name);var i=this;this.transport&&(n("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=h,h.on("drain",function(){i.onDrain()}).on("packet",function(e){i.onPacket(e)}).on("error",function(e){i.onError(e)}).on("close",function(){i.onClose("transport close")})},d.prototype.probe=function(D){function A(){if(z.onlyBinaryUpgrades){var h=!this.supportsBinary&&z.transport.supportsBinary;y=y||h}y||(n('probe transport "%s" opened',D),C.send([{type:"ping",data:"probe"}]),C.once("packet",function(i){if(!y){if("pong"===i.type&&"probe"===i.data){if(n('probe transport "%s" pong',D),z.upgrading=!0,z.emit("upgrading",C),!C){return}d.priorWebsocketSuccess="websocket"===C.name,n('pausing current transport "%s"',z.transport.name),z.transport.pause(function(){y||"closed"!==z.readyState&&(n("changing transport and sending upgrade packet"),r(),z.setTransport(C),C.send([{type:"upgrade"}]),z.emit("upgrade",C),C=null,z.upgrading=!1,z.flush())})}else{n('probe transport "%s" failed',D);var o=new Error("probe error");o.transport=C.name,z.emit("upgradeError",o)}}}))}function w(){y||(y=!0,r(),C.close(),C=null)}function v(i){var h=new Error("probe error: "+i);h.transport=C.name,w(),n('probe transport "%s" failed because of error: %s',D,i),z.emit("upgradeError",h)}function x(){v("transport closed")}function E(){v("socket closed")}function B(e){C&&e.name!==C.name&&(n('"%s" works - aborting "%s"',e.name,C.name),w())}function r(){C.removeListener("open",A),C.removeListener("error",v),C.removeListener("close",x),z.removeListener("close",E),z.removeListener("upgrading",B)}n('probing transport "%s"',D);var C=this.createTransport(D,{probe:1}),y=!1,z=this;d.priorWebsocketSuccess=!1,C.once("open",A),C.once("error",v),C.once("close",x),this.once("close",E),this.once("upgrading",B),C.open()},d.prototype.onOpen=function(){if(n("socket open"),this.readyState="open",d.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){n("starting upgrade probes");for(var h=0,i=this.upgrades.length;h<i;h++){this.probe(this.upgrades[h])}}},d.prototype.onPacket=function(h){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){switch(n('socket receive: type "%s", data "%s"',h.type,h.data),this.emit("packet",h),this.emit("heartbeat"),h.type){case"open":this.onHandshake(JSON.parse(h.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var i=new Error("server error");i.code=h.data,this.onError(i);break;case"message":this.emit("data",h.data),this.emit("message",h.data)}}else{n('packet received with socket readyState "%s"',this.readyState)}},d.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},d.prototype.onHeartbeat=function(h){clearTimeout(this.pingTimeoutTimer);var i=this;i.pingTimeoutTimer=setTimeout(function(){"closed"!==i.readyState&&i.onClose("ping timeout")},h||i.pingInterval+i.pingTimeout)},d.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){n("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},d.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},d.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},d.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(n("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},d.prototype.write=d.prototype.send=function(h,i,o){return this.sendPacket("message",h,i,o),this},d.prototype.sendPacket=function(h,p,u,i){if("function"==typeof p&&(i=p,p=void 0),"function"==typeof u&&(i=u,u=null),"closing"!==this.readyState&&"closed"!==this.readyState){u=u||{},u.compress=!1!==u.compress;var s={type:h,data:p,options:u};this.emit("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}},d.prototype.close=function(){function h(){i.onClose("forced close"),n("socket closing - telling transport to close"),i.transport.close()}function o(){i.removeListener("upgrade",o),i.removeListener("upgradeError",o),h()}function p(){i.once("upgrade",o),i.once("upgradeError",o)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var i=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?p():h()}):this.upgrading?p():h()}return this},d.prototype.onError=function(e){n("socket error %j",e),d.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},d.prototype.onClose=function(h,i){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){n('socket close with reason: "%s"',h);var o=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",h,i),o.writeBuffer=[],o.prevBufferLen=0}},d.prototype.filterUpgrades=function(h){for(var o=[],p=0,i=h.length;p<i;p++){~m(this.transports,h[p])&&o.push(h[p])}return o}}).call(b,function(){return this}())},function(a,b,c){(function(f){function h(o){var s,l=!1,i=!1,q=!1!==o.jsonp;if(f.location){var m="https:"===location.protocol,k=location.port;k||(k=m?443:80),l=o.hostname!==location.hostname||k!==o.port,i=o.secure!==m}if(o.xdomain=l,o.xscheme=i,s=new j(o),"open" in s&&!o.forceJSONP){return new e(o)}if(!q){throw new Error("JSONP disabled")}return new g(o)}var j=c(17),e=c(19),g=c(33),d=c(34);b.polling=h,b.websocket=d}).call(b,function(){return this}())},function(a,b,c){(function(f){var d=c(18);a.exports=function(g){var k=g.xdomain,j=g.xscheme,e=g.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!k||d)){return new XMLHttpRequest}}catch(h){}try{if("undefined"!=typeof XDomainRequest&&!j&&e){return new XDomainRequest}}catch(h){}if(!k){try{return new (f[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(h){}}}}).call(b,function(){return this}())},function(a,b){try{a.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials" in new XMLHttpRequest}catch(c){a.exports=!1}},function(a,b,c){(function(l){function d(){}function g(e){if(m.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,l.location){var i="https:"===location.protocol,h=location.port;h||(h=i?443:80),this.xd=e.hostname!==l.location.hostname||h!==e.port,this.xs=e.secure!==i}}function j(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function t(){for(var e in j.requests){j.requests.hasOwnProperty(e)&&j.requests[e].abort()}}var n=c(17),m=c(20),f=c(8),q=c(31),k=c(3)("engine.io-client:polling-xhr");a.exports=g,a.exports.Request=j,q(g,m),g.prototype.supportsBinary=!0,g.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new j(e)},g.prototype.doWrite=function(h,p){var u="string"!=typeof h&&void 0!==h,i=this.request({method:"POST",data:h,isBinary:u}),s=this;i.on("success",p),i.on("error",function(e){s.onError("xhr post error",e)}),this.sendXhr=i},g.prototype.doPoll=function(){k("xhr poll");var h=this.request(),i=this;h.on("data",function(e){i.onData(e)}),h.on("error",function(e){i.onError("xhr poll error",e)}),this.pollXhr=h},f(j.prototype),j.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var u=this.xhr=new n(e),i=this;try{k("xhr open %s: %s",this.method,this.uri),u.open(this.method,this.uri,this.async);try{if(this.extraHeaders){u.setDisableHeaderCheck&&u.setDisableHeaderCheck(!0);for(var p in this.extraHeaders){this.extraHeaders.hasOwnProperty(p)&&u.setRequestHeader(p,this.extraHeaders[p])}}}catch(h){}if("POST"===this.method){try{this.isBinary?u.setRequestHeader("Content-type","application/octet-stream"):u.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(h){}}try{u.setRequestHeader("Accept","*/*")}catch(h){}"withCredentials" in u&&(u.withCredentials=!0),this.requestTimeout&&(u.timeout=this.requestTimeout),this.hasXDR()?(u.onload=function(){i.onLoad()},u.onerror=function(){i.onError(u.responseText)}):u.onreadystatechange=function(){if(2===u.readyState){var o;try{o=u.getResponseHeader("Content-Type")}catch(r){}"application/octet-stream"===o&&(u.responseType="arraybuffer")}4===u.readyState&&(200===u.status||1223===u.status?i.onLoad():setTimeout(function(){i.onError(u.status)},0))},k("xhr data %s",this.data),u.send(this.data)}catch(h){return void setTimeout(function(){i.onError(h)},0)}l.document&&(this.index=j.requestsCount++,j.requests[this.index]=this)},j.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},j.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},j.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},j.prototype.cleanup=function(e){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=d:this.xhr.onreadystatechange=d,e){try{this.xhr.abort()}catch(h){}}l.document&&delete j.requests[this.index],this.xhr=null}},j.prototype.onLoad=function(){var h;try{var i;try{i=this.xhr.getResponseHeader("Content-Type")}catch(o){}h="application/octet-stream"===i?this.xhr.response||this.xhr.responseText:this.xhr.responseText}catch(o){this.onError(o)}null!=h&&this.onData(h)},j.prototype.hasXDR=function(){return"undefined"!=typeof l.XDomainRequest&&!this.xs&&this.enablesXDR},j.prototype.abort=function(){this.cleanup()},j.requestsCount=0,j.requests={},l.document&&(l.attachEvent?l.attachEvent("onunload",t):l.addEventListener&&l.addEventListener("beforeunload",t,!1))}).call(b,function(){return this}())},function(q,j,g){function b(a){var c=a&&a.forceBase64;m&&!c||(this.supportsBinary=!1),f.call(this,a)}var f=g(21),h=g(30),v=g(22),l=g(31),k=g(32),d=g(3)("engine.io-client:polling");q.exports=b;var m=function(){var a=g(17),c=new a({xdomain:!1});return null!=c.responseType}();l(b,f),b.prototype.name="polling",b.prototype.doOpen=function(){this.poll()},b.prototype.pause=function(a){function i(){d("paused"),o.readyState="paused",a()}var o=this;if(this.readyState="pausing",this.polling||!this.writable){var c=0;this.polling&&(d("we are currently polling - waiting to pause"),c++,this.once("pollComplete",function(){d("pre-pause polling complete"),--c||i()})),this.writable||(d("we are currently writing - waiting to pause"),c++,this.once("drain",function(){d("pre-pause writing complete"),--c||i()}))}else{i()}},b.prototype.poll=function(){d("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},b.prototype.onData=function(a){var c=this;d("polling got data %s",a);var i=function(e,p,o){return"opening"===c.readyState&&c.onOpen(),"close"===e.type?(c.onClose(),!1):void c.onPacket(e)};v.decodePayload(a,this.socket.binaryType,i),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():d('ignoring poll - transport state "%s"',this.readyState))},b.prototype.doClose=function(){function a(){d("writing close packet"),c.write([{type:"close"}])}var c=this;"open"===this.readyState?(d("transport open - closing"),a()):(d("transport not open - deferring close"),this.once("open",a))},b.prototype.write=function(a){var c=this;this.writable=!1;var i=function(){c.writable=!0,c.emit("drain")};v.encodePayload(a,this.supportsBinary,function(e){c.doWrite(e,i)})},b.prototype.uri=function(){var a=this.query||{},i=this.secure?"https":"http",o="";!1!==this.timestampRequests&&(a[this.timestampParam]=k()),this.supportsBinary||a.sid||(a.b64=1),a=h.encode(a),this.port&&("https"===i&&443!==Number(this.port)||"http"===i&&80!==Number(this.port))&&(o=":"+this.port),a.length&&(a="?"+a);var c=this.hostname.indexOf(":")!==-1;return i+"://"+(c?"["+this.hostname+"]":this.hostname)+o+this.path+a}},function(b,d,g){function c(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}var f=g(22),a=g(8);b.exports=c,a(c.prototype),c.prototype.onError=function(h,i){var j=new Error(h);return j.type="TransportError",j.description=i,this.emit("error",j),this},c.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},c.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},c.prototype.send=function(e){if("open"!==this.readyState){throw new Error("Transport not open")}this.write(e)},c.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},c.prototype.onData=function(h){var i=f.decodePacket(h,this.socket.binaryType);this.onPacket(i)},c.prototype.onPacket=function(e){this.emit("packet",e)},c.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(a,b,c){(function(x){function A(d,g){var f="b"+b.packets[d.type]+d.data.data;return g(f)}function C(g,m,k){if(!m){return b.encodeBase64Packet(g,k)}var l=g.data,f=new Uint8Array(l),h=new Uint8Array(1+l.byteLength);h[0]=n[g.type];for(var d=0;d<f.length;d++){h[d+1]=f[d]}return k(h.buffer)}function G(d,h,f){if(!h){return b.encodeBase64Packet(d,f)}var g=new FileReader;return g.onload=function(){d.data=g.result,b.encodePacket(d,h,!0,f)},g.readAsArrayBuffer(d.data)}function z(d,i,g){if(!i){return b.encodeBase64Packet(d,g)}if(I){return G(d,i,g)}var h=new Uint8Array(1);h[0]=n[d.type];var f=new F([h.buffer,d.data]);return g(f)}function N(d){try{d=K.decode(d,{strict:!1})}catch(f){return !1}return d}function L(f,k,m){for(var h=new Array(f.length),l=E(f.length,m),d=function(i,r,p){k(r,function(o,s){h[i]=s,p(o,h)})},g=0;g<f.length;g++){d(g,f[g],l)}}var B,q=c(23),H=c(9),J=c(24),E=c(25),K=c(26);x&&x.ArrayBuffer&&(B=c(28));var e="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),D="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),I=e||D;b.protocol=3;var n=b.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},M=q(n),j={type:"error",data:"parser error"},F=c(29);b.encodePacket=function(h,l,f,d){"function"==typeof l&&(d=l,l=!1),"function"==typeof f&&(d=f,f=null);var k=void 0===h.data?void 0:h.data.buffer||h.data;if(x.ArrayBuffer&&k instanceof ArrayBuffer){return C(h,l,d)}if(F&&k instanceof x.Blob){return z(h,l,d)}if(k&&k.base64){return A(h,d)}var g=n[h.type];return void 0!==h.data&&(g+=f?K.encode(String(h.data),{strict:!1}):String(h.data)),d(""+g)},b.encodeBase64Packet=function(h,d){var g="b"+b.packets[h.type];if(F&&h.data instanceof x.Blob){var k=new FileReader;return k.onload=function(){var i=k.result.split(",")[1];d(g+i)},k.readAsDataURL(h.data)}var v;try{v=String.fromCharCode.apply(null,new Uint8Array(h.data))}catch(m){for(var l=new Uint8Array(h.data),f=new Array(l.length),t=0;t<l.length;t++){f[t]=l[t]}v=String.fromCharCode.apply(null,f)}return g+=x.btoa(v),d(g)},b.decodePacket=function(f,l,h){if(void 0===f){return j}if("string"==typeof f){if("b"===f.charAt(0)){return b.decodeBase64Packet(f.substr(1),l)}if(h&&(f=N(f),f===!1)){return j}var k=f.charAt(0);return Number(k)==k&&M[k]?f.length>1?{type:M[k],data:f.substring(1)}:{type:M[k]}:j}var d=new Uint8Array(f),k=d[0],g=J(f,1);return F&&"blob"===l&&(g=new F([g])),{type:M[k],data:g}},b.decodeBase64Packet=function(d,g){var h=M[d.charAt(0)];if(!B){return{type:h,data:{base64:!0,data:d.substr(1)}}}var f=B.decode(d.substr(1));return"blob"===g&&F&&(f=new F([f])),{type:h,data:f}},b.encodePayload=function(f,l,h){function k(i){return i.length+":"+i}function d(i,m){b.encodePacket(i,!!g&&l,!1,function(o){m(null,k(o))})}"function"==typeof l&&(h=l,l=null);var g=H(f);return l&&g?F&&!I?b.encodePayloadAsBlob(f,h):b.encodePayloadAsArrayBuffer(f,h):f.length?void L(f,d,function(i,m){return h(m.join(""))}):h("0:")},b.decodePayload=function(O,k,d){if("string"!=typeof O){return b.decodePayloadAsBinary(O,k,d)}"function"==typeof k&&(d=k,k=null);var g;if(""===O){return d(j,0,1)}for(var l,P,w="",v=0,f=O.length;v<f;v++){var y=O.charAt(v);if(":"===y){if(""===w||w!=(l=Number(w))){return d(j,0,1)}if(P=O.substr(v+1,l),w!=P.length){return d(j,0,1)}if(P.length){if(g=b.decodePacket(P,k,!1),j.type===g.type&&j.data===g.data){return d(j,0,1)}var m=d(g,v+l,f);if(!1===m){return}}v+=l,w=""}else{w+=y}}return""!==w?d(j,0,1):void 0},b.encodePayloadAsArrayBuffer=function(d,g){function f(h,i){b.encodePacket(h,!0,!0,function(k){return i(null,k)})}return d.length?void L(d,f,function(k,m){var l=m.reduce(function(i,o){var r;return r="string"==typeof o?o.length:o.byteLength,i+r.toString().length+r+2},0),p=new Uint8Array(l),h=0;return m.forEach(function(o){var w="string"==typeof o,y=o;if(w){for(var v=new Uint8Array(o.length),u=0;u<o.length;u++){v[u]=o.charCodeAt(u)}y=v.buffer}w?p[h++]=0:p[h++]=1;for(var i=y.byteLength.toString(),u=0;u<i.length;u++){p[h++]=parseInt(i[u])}p[h++]=255;for(var v=new Uint8Array(y),u=0;u<v.length;u++){p[h++]=v[u]}}),g(p.buffer)}):g(new ArrayBuffer(0))},b.encodePayloadAsBlob=function(d,g){function f(h,i){b.encodePacket(h,!0,!0,function(m){var v=new Uint8Array(1);if(v[0]=1,"string"==typeof m){for(var u=new Uint8Array(m.length),w=0;w<m.length;w++){u[w]=m.charCodeAt(w)}m=u.buffer,v[0]=0}for(var l=m instanceof ArrayBuffer?m.byteLength:m.size,p=l.toString(),k=new Uint8Array(p.length+1),w=0;w<p.length;w++){k[w]=parseInt(p[w])}if(k[p.length]=255,F){var y=new F([v.buffer,k.buffer,m]);i(null,y)}})}L(d,f,function(h,i){return g(new F(i))})},b.decodePayloadAsBinary=function(S,m,f){"function"==typeof m&&(f=m,m=null);for(var k=S,w=[];k.byteLength>0;){for(var T=new Uint8Array(k),Q=0===T[0],P="",g=1;255!==T[g];g++){if(P.length>310){return f(j,0,1)}P+=T[g]}k=J(k,2+P.length),P=parseInt(P);var R=J(k,0,P);if(Q){try{R=String.fromCharCode.apply(null,new Uint8Array(R))}catch(y){var v=new Uint8Array(R);R="";for(var g=0;g<v.length;g++){R+=String.fromCharCode(v[g])}}}w.push(R),k=J(k,P)}var O=w.length;w.forEach(function(d,h){f(b.decodePacket(d,m,!0),h,O)})}}).call(b,function(){return this}())},function(a,b){a.exports=Object.keys||function(c){var f=[],g=Object.prototype.hasOwnProperty;for(var d in c){g.call(c,d)&&f.push(d)}return f}},function(a,b){a.exports=function(f,j,l){var h=f.byteLength;if(j=j||0,l=l||h,f.slice){return f.slice(j,l)}if(j<0&&(j+=h),l<0&&(l+=h),l>h&&(l=h),j>=h||j>=l||0===h){return new ArrayBuffer(0)}for(var k=new Uint8Array(f),d=new Uint8Array(l-j),g=j,c=0;g<l;g++,c++){d[c]=k[g]}return d.buffer}},function(a,c){function d(g,h,k){function j(e,i){if(j.count<=0){throw new Error("after called too many times")}--j.count,e?(f=!0,h(e),h=k):0!==j.count||f||h(null,i)}var f=!1;return k=k||b,j.count=g,0===g?h():j}function b(){}a.exports=d},function(a,c,d){var b;(function(e,f){!function(r){function I(h){for(var l,p,k=[],m=0,g=h.length;m<g;){l=h.charCodeAt(m++),l>=55296&&l<=56319&&m<g?(p=h.charCodeAt(m++),56320==(64512&p)?k.push(((1023&l)<<10)+(1023&p)+65536):(k.push(l),m--)):k.push(l)}return k}function E(g){for(var i,l=g.length,h=-1,k="";++h<l;){i=g[h],i>65535&&(i-=65536,k+=F(i>>>10&1023|55296),i=56320|1023&i),k+=F(i)}return k}function B(g,h){if(g>=55296&&g<=57343){if(h){throw Error("Lone surrogate U+"+g.toString(16).toUpperCase()+" is not a scalar value")}return !1}return !0}function j(g,h){return F(g>>h&63|128)}function H(g,h){if(0==(4294967168&g)){return F(g)}var i="";return 0==(4294965248&g)?i=F(g>>6&31|192):0==(4294901760&g)?(B(g,h)||(g=65533),i=F(g>>12&15|224),i+=j(g,6)):0==(4292870144&g)&&(i=F(g>>18&7|240),i+=j(g,12),i+=j(g,6)),i+=F(63&g|128)}function t(k,m){m=m||{};for(var u,l=!1!==m.strict,p=I(k),h=p.length,g=-1,s="";++g<h;){u=p[g],s+=H(u,l)}return s}function z(){if(C>=G){throw Error("Invalid byte index")}var g=255&x[C];if(C++,128==(192&g)){return 63&g}throw Error("Invalid continuation byte")}function o(h){var l,p,k,m,g;if(C>G){throw Error("Invalid byte index")}if(C==G){return !1}if(l=255&x[C],C++,0==(128&l)){return l}if(192==(224&l)){if(p=z(),g=(31&l)<<6|p,g>=128){return g}throw Error("Invalid continuation byte")}if(224==(240&l)){if(p=z(),k=z(),g=(15&l)<<12|p<<6|k,g>=2048){return B(g,h)?g:65533}throw Error("Invalid continuation byte")}if(240==(248&l)&&(p=z(),k=z(),m=z(),g=(7&l)<<18|p<<12|k<<6|m,g>=65536&&g<=1114111)){return g}throw Error("Invalid UTF-8 detected")}function A(g,i){i=i||{};var l=!1!==i.strict;x=I(g),G=x.length,C=0;for(var h,k=[];(h=o(l))!==!1;){k.push(h)}return E(k)}var D="object"==typeof c&&c,n=("object"==typeof e&&e&&e.exports==D&&e,"object"==typeof f&&f);n.global!==n&&n.window!==n||(r=n);var x,G,C,F=String.fromCharCode,q={version:"2.1.2",encode:t,decode:A};b=function(){return q}.call(c,d,c,e),!(void 0!==b&&(e.exports=b))}(this)}).call(c,d(27)(a),function(){return this}())},function(a,b){a.exports=function(c){return c.webpackPolyfill||(c.deprecate=function(){},c.paths=[],c.children=[],c.webpackPolyfill=1),c}},function(a,b){!function(){for(var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=new Uint8Array(256),d=0;d<c.length;d++){e[c.charCodeAt(d)]=d}b.encode=function(h){var k,g=new Uint8Array(h),j=g.length,f="";for(k=0;k<j;k+=3){f+=c[g[k]>>2],f+=c[(3&g[k])<<4|g[k+1]>>4],f+=c[(15&g[k+1])<<2|g[k+2]>>6],f+=c[63&g[k+2]]}return j%3===2?f=f.substring(0,f.length-1)+"=":j%3===1&&(f=f.substring(0,f.length-2)+"=="),f},b.decode=function(w){var m,f,j,k,x,q=0.75*w.length,n=w.length,g=0;"="===w[w.length-1]&&(q--,"="===w[w.length-2]&&q--);var v=new ArrayBuffer(q),l=new Uint8Array(v);for(m=0;m<n;m+=4){f=e[w.charCodeAt(m)],j=e[w.charCodeAt(m+1)],k=e[w.charCodeAt(m+2)],x=e[w.charCodeAt(m+3)],l[g++]=f<<2|j>>4,l[g++]=(15&j)<<4|k>>2,l[g++]=(3&k)<<6|63&x}return v}}()},function(a,b){(function(j){function m(c){for(var p=0;p<c.length;p++){var s=c[p];if(s.buffer instanceof ArrayBuffer){var i=s.buffer;if(s.byteLength!==i.byteLength){var q=new Uint8Array(s.byteLength);q.set(new Uint8Array(i,s.byteOffset,s.byteLength)),i=q.buffer}c[p]=i}}}function h(c,n){n=n||{};var i=new f;m(c);for(var p=0;p<c.length;p++){i.append(c[p])}return n.type?i.getBlob(n.type):i.getBlob()}function k(c,i){return m(c),new Blob(c,i||{})}var f=j.BlobBuilder||j.WebKitBlobBuilder||j.MSBlobBuilder||j.MozBlobBuilder,g=function(){try{var c=new Blob(["hi"]);return 2===c.size}catch(i){return !1}}(),d=g&&function(){try{var c=new Blob([new Uint8Array([1,2])]);return 2===c.size}catch(i){return !1}}(),l=f&&f.prototype.append&&f.prototype.getBlob;a.exports=function(){return g?d?j.Blob:k:l?h:void 0}()}).call(b,function(){return this}())},function(a,b){b.encode=function(c){var d="";for(var f in c){c.hasOwnProperty(f)&&(d.length&&(d+="&"),d+=encodeURIComponent(f)+"="+encodeURIComponent(c[f]))}return d},b.decode=function(d){for(var g={},j=d.split("&"),f=0,h=j.length;f<h;f++){var c=j[f].split("=");g[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return g}},function(a,b){a.exports=function(c,d){var f=function(){};f.prototype=d.prototype,c.prototype=new f,c.prototype.constructor=c}},function(q,j){function g(a){var c="";do{c=v[a%l]+c,a=Math.floor(a/l)}while(a>0);return c}function b(a){var c=0;for(m=0;m<a.length;m++){c=c*l+k[a.charAt(m)]}return c}function f(){var a=g(+new Date);return a!==h?(d=0,h=a):a+"."+g(d++)}for(var h,v="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),l=64,k={},d=0,m=0;m<l;m++){k[v[m]]=m}f.encode=g,f.decode=b,q.exports=f},function(a,b,c){(function(k){function h(){}function l(e){f.call(this,e),this.query=this.query||{},d||(k.___eio||(k.___eio=[]),d=k.___eio),this.index=d.length;var i=this;d.push(function(n){i.onData(n)}),this.query.j=this.index,k.document&&k.addEventListener&&k.addEventListener("beforeunload",function(){i.script&&(i.script.onerror=h)},!1)}var f=c(20),g=c(31);a.exports=l;var d,m=/\n/g,j=/\\n/g;g(l,f),l.prototype.supportsBinary=!1,l.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),f.prototype.doClose.call(this)},l.prototype.doPoll=function(){var i=this,p=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),p.async=!0,p.src=this.uri(),p.onerror=function(n){i.onError("jsonp poll error",n)};var q=document.getElementsByTagName("script")[0];q?q.parentNode.insertBefore(p,q):(document.head||document.body).appendChild(p),this.script=p;var o="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);o&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},l.prototype.doWrite=function(B,y){function v(){p(),y()}function p(){if(q.iframe){try{q.form.removeChild(q.iframe)}catch(i){q.onError("jsonp polling iframe removal error",i)}}try{var n='<iframe src="javascript:0" name="'+q.iframeId+'">';w=document.createElement(n)}catch(i){w=document.createElement("iframe"),w.name=q.iframeId,w.src="javascript:0"}w.id=q.iframeId,q.form.appendChild(w),q.iframe=w}var q=this;if(!this.form){var w,C=document.createElement("form"),z=document.createElement("textarea"),A=this.iframeId="eio_iframe_"+this.index;C.className="socketio",C.style.position="absolute",C.style.top="-1000px",C.style.left="-1000px",C.target=A,C.method="POST",C.setAttribute("accept-charset","utf-8"),z.name="d",C.appendChild(z),document.body.appendChild(C),this.form=C,this.area=z}this.form.action=this.uri(),p(),B=B.replace(j,"\\\n"),this.area.value=B.replace(m,"\\n");try{this.form.submit()}catch(x){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===q.iframe.readyState&&v()}:this.iframe.onload=v}}).call(b,function(){return this}())},function(a,b,c){(function(t){function d(f){var h=f&&f.forceBase64;h&&(this.supportsBinary=!1),this.perMessageDeflate=f.perMessageDeflate,this.usingBrowserWebSocket=n&&!f.forceNode,this.protocols=f.protocols,this.usingBrowserWebSocket||(k=j),m.call(this,f)}var j,m=c(21),y=c(22),w=c(30),v=c(31),g=c(32),x=c(3)("engine.io-client:websocket"),n=t.WebSocket||t.MozWebSocket;if("undefined"==typeof window){try{j=c(35)}catch(q){}}var k=n;k||"undefined"!=typeof window||(k=j),a.exports=d,v(d,m),d.prototype.name="websocket",d.prototype.supportsBinary=!0,d.prototype.doOpen=function(){if(this.check()){var f=this.uri(),i=this.protocols,l={agent:this.agent,perMessageDeflate:this.perMessageDeflate};l.pfx=this.pfx,l.key=this.key,l.passphrase=this.passphrase,l.cert=this.cert,l.ca=this.ca,l.ciphers=this.ciphers,l.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(l.headers=this.extraHeaders),this.localAddress&&(l.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?i?new k(f,i):new k(f):new k(f,i,l)}catch(h){return this.emit("error",h)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},d.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(f){e.onData(f.data)},this.ws.onerror=function(f){e.onError("websocket error",f)}},d.prototype.write=function(h){function s(){l.emit("flush"),setTimeout(function(){l.writable=!0,l.emit("drain")},0)}var l=this;this.writable=!1;for(var p=h.length,f=0,e=p;f<e;f++){!function(i){y.encodePacket(i,l.supportsBinary,function(r){if(!l.usingBrowserWebSocket){var u={};if(i.options&&(u.compress=i.options.compress),l.perMessageDeflate){var o="string"==typeof r?t.Buffer.byteLength(r):r.length;o<l.perMessageDeflate.threshold&&(u.compress=!1)}}try{l.usingBrowserWebSocket?l.ws.send(r):l.ws.send(r,u)}catch(z){x("websocket closed before onclose event")}--p||s()})}(h[f])}},d.prototype.onClose=function(){m.prototype.onClose.call(this)},d.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},d.prototype.uri=function(){var f=this.query||{},i=this.secure?"wss":"ws",l="";this.port&&("wss"===i&&443!==Number(this.port)||"ws"===i&&80!==Number(this.port))&&(l=":"+this.port),this.timestampRequests&&(f[this.timestampParam]=g()),this.supportsBinary||(f.b64=1),f=w.encode(f),f.length&&(f="?"+f);var h=this.hostname.indexOf(":")!==-1;return i+"://"+(h?"["+this.hostname+"]":this.hostname)+l+this.path+f},d.prototype.check=function(){return !(!k||"__initialize" in k&&this.name===d.prototype.name)}}).call(b,function(){return this}())},function(a,b){},function(a,b){var c=[].indexOf;a.exports=function(d,g){if(c){return d.indexOf(g)}for(var f=0;f<d.length;++f){if(d[f]===g){return f}}return -1}},function(A,w,j){function b(a,c,f){this.io=a,this.nsp=c,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,f&&f.query&&(this.query=f.query),this.io.autoConnect&&this.open()}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},m=j(7),B=j(8),y=j(38),x=j(39),d=j(40),z=j(3)("socket.io-client:socket"),q=j(30);A.exports=w=b;var v={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},k=B.prototype.emit;B(b.prototype),b.prototype.subEvents=function(){if(!this.subs){var a=this.io;this.subs=[x(a,"open",d(this,"onopen")),x(a,"packet",d(this,"onpacket")),x(a,"close",d(this,"onclose"))]}},b.prototype.open=b.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},b.prototype.send=function(){var a=y(arguments);return a.unshift("message"),this.emit.apply(this,a),this},b.prototype.emit=function(a){if(v.hasOwnProperty(a)){return k.apply(this,arguments),this}var c=y(arguments),f={type:m.EVENT,data:c};return f.options={},f.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof c[c.length-1]&&(z("emitting packet with ack id %d",this.ids),this.acks[this.ids]=c.pop(),f.id=this.ids++),this.connected?this.packet(f):this.sendBuffer.push(f),delete this.flags,this},b.prototype.packet=function(a){a.nsp=this.nsp,this.io.packet(a)},b.prototype.onopen=function(){if(z("transport is open - connecting"),"/"!==this.nsp){if(this.query){var a="object"===g(this.query)?q.encode(this.query):this.query;z("sending connect packet with query %s",a),this.packet({type:m.CONNECT,query:a})}else{this.packet({type:m.CONNECT})}}},b.prototype.onclose=function(a){z("close (%s)",a),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",a)},b.prototype.onpacket=function(a){if(a.nsp===this.nsp){switch(a.type){case m.CONNECT:this.onconnect();break;case m.EVENT:this.onevent(a);break;case m.BINARY_EVENT:this.onevent(a);break;case m.ACK:this.onack(a);break;case m.BINARY_ACK:this.onack(a);break;case m.DISCONNECT:this.ondisconnect();break;case m.ERROR:this.emit("error",a.data)}}},b.prototype.onevent=function(a){var c=a.data||[];z("emitting event %j",c),null!=a.id&&(z("attaching ack callback to event"),c.push(this.ack(a.id))),this.connected?k.apply(this,c):this.receiveBuffer.push(c)},b.prototype.ack=function(a){var c=this,f=!1;return function(){if(!f){f=!0;var e=y(arguments);z("sending ack %j",e),c.packet({type:m.ACK,id:a,data:e})}}},b.prototype.onack=function(a){var c=this.acks[a.id];"function"==typeof c?(z("calling ack %s with %j",a.id,a.data),c.apply(this,a.data),delete this.acks[a.id]):z("bad ack %s",a.id)},b.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},b.prototype.emitBuffered=function(){var a;for(a=0;a<this.receiveBuffer.length;a++){k.apply(this,this.receiveBuffer[a])}for(this.receiveBuffer=[],a=0;a<this.sendBuffer.length;a++){this.packet(this.sendBuffer[a])}this.sendBuffer=[]},b.prototype.ondisconnect=function(){z("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},b.prototype.destroy=function(){if(this.subs){for(var a=0;a<this.subs.length;a++){this.subs[a].destroy()}this.subs=null}this.io.destroy(this)},b.prototype.close=b.prototype.disconnect=function(){return this.connected&&(z("performing disconnect (%s)",this.nsp),this.packet({type:m.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},b.prototype.compress=function(a){return this.flags=this.flags||{},this.flags.compress=a,this}},function(a,b){function c(d,g){var h=[];g=g||0;for(var f=g||0;f<d.length;f++){h[f-g]=d[f]}return h}a.exports=c},function(a,b){function c(d,f,g){return d.on(f,g),{destroy:function(){d.removeListener(f,g)}}}a.exports=c},function(a,b){var c=[].slice;a.exports=function(d,g){if("string"==typeof g&&(g=d[g]),"function"!=typeof g){throw new Error("bind() requires a function")}var f=c.call(arguments,2);return function(){return g.apply(d,f.concat(c.call(arguments)))}}},function(a,b){function c(d){d=d||{},this.ms=d.min||100,this.max=d.max||10000,this.factor=d.factor||2,this.jitter=d.jitter>0&&d.jitter<=1?d.jitter:0,this.attempts=0}a.exports=c,c.prototype.duration=function(){var d=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var f=Math.random(),g=Math.floor(f*this.jitter*d);d=0==(1&Math.floor(10*f))?d-g:d+g}return 0|Math.min(d,this.max)},c.prototype.reset=function(){this.attempts=0},c.prototype.setMin=function(d){this.ms=d},c.prototype.setMax=function(d){this.max=d},c.prototype.setJitter=function(d){this.jitter=d}}])});